{% set data = load_setup_py_data() %}

package:
  name: pcdsdevices
  version: {{ data['version'] }}

source:
  path: ..

build:
  number: 1

requirements:
  build:
    - python {{PY_VER}}*,>=3
    - setuptools

  run:
    - python {{PY_VER}}*,>=3
    {% for spec in data['install_requires'] %}
      {% if '<' in spec %}
        {% set newspec = spec.replace('<', ' <') %}
      {% elif '>' in spec %}
        {% set newspec = spec.replace('>', ' >') %}
      {% elif '=' in spec %}
        {% set newpsec = spec.replace('=', ' =') %}
      {% else %}
        {% set newspec = spec %}
      {% endif %}
    - {{ newspec }}
    {% endfor %}

test:
  imports:
    - pcdsdevices

about:
  home: https://github.com/pcdshub/pcdsdevices
  license: SLAC Open License
  summary: IOC definitions for LCLS Beamline Devices
